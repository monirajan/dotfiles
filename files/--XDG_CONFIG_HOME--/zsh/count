#compdef count
#!/usr/bin/env zsh

# vim:filetype=zsh syntax=zsh tabstop=2 shiftwidth=2 softtabstop=2 expandtab autoindent fileencoding=utf-8

# git command: count

# Source shell helpers if they aren't already loaded
type section_header &> /dev/null 2>&1 || source "${HOME}/.shellrc"

# Note: Use a function so that it can accept parameters
count() {
  local folder="${1:-${PWD}}"
  section_header "$(yellow 'Counting commits') $(purple "${folder}")"
  git -C "${folder}" count
}

count "$@"
